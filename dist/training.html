<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥ç¿’ç”Ÿï½œè¨“ç·´æ¢ç´¢</title> <!-- ä¿®æ”¹æ¨™é¡Œ -->
    <link rel="icon" href="images/fitness.png" type="image/png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/bootstrap.css">


    <link rel="stylesheet" href="assets/vendors/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="shortcut icon" href="assets/images/favicon.svg" type="image/x-icon">

    <!-- è‡ªå®šç¾©æ¨£å¼ï¼Œç”¨æ–¼äººé«”åœ–å’Œäº’å‹•æ•ˆæœ -->
    <style>
        /*äººé«”äº’å‹•åœ–*/
        #human-body-map-container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            /* åŸæœ¬æ˜¯ 10px auto 0 auto â†’ æ”¹æˆä¸Šä¸‹ 0 */
            padding: 0;
        }

        #human-body-map-svg {
            width: 90%;
            height: auto;
        }

        /* SVG èº«é«”éƒ¨ä½é è¨­æ¨£å¼ */
        /* SVG èº«é«”éƒ¨ä½é è¨­æ¨£å¼ */
        /* é è¨­ */
        #human-body-map-svg .body-part {
            fill: #cbd2d9;
            /* æ·¡è—ç°ï¼ˆè«è˜­è¿ªåº•è‰²ï¼‰ */
            stroke: #9c99a2;
            /* ç°ç´«é‚Šæ¡† */
            stroke-width: 2px;
            transition: all 0.3s ease;
        }

        /* Hover */
        #human-body-map-svg .body-part:hover {
            fill: #b7c3cc;
            /* æ¯”åº•è‰²ç¨æ·±ä¸€é» */
        }

        /* é¸ä¸­ç‹€æ…‹ */
        #human-body-map-svg .body-part.selected {
            fill: #b1bbc6 !important;
            /* è«è˜­è¿ªè—ï¼Œæ·¡äº® */
            stroke: #98a2ad !important;
            /* æ·±è—ç°é‚Šæ¡† */
            stroke-width: 2px;
        }

        /*äººé«”äº’å‹•åœ–å‹•ç•«*/
        #human-body-map-container {
            animation: fadeInUp 0.6s ease-out both;
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æç¤ºæ¡†æ¨£å¼ */
        .tooltip-muscle-groups {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            pointer-events: none;
            /* è®“æ»‘é¼ ç©¿é€ */
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        .muscle-group-list {
            margin-top: 0px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        .muscle-group-item {
            display: inline-block;
            margin: 5px;
            padding: 8px 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .muscle-group-item:hover {
            background-color: #2f6bac;
            color: white;
        }

        .equipment-display {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
        }

        .equipment-card {
            border: 1px solid #eee;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
        }

        .equipment-card img {
            max-width: 100px;
            height: auto;
            margin-bottom: 10px;
        }

        /* ç¢ºä¿ä¸»è¦å…§å®¹å€åŸŸå¯ä»¥æ»¾å‹• */
        /* === ä¿®æ­£é›™æ²è»¸ï¼šè¦†å¯«å…§å±¤æ»¾å‹•èˆ‡éå¤§é«˜åº¦ === */
        #main {
            height: auto !important;
            overflow-y: visible !important;
        }

        .page-content,
        .section {
            min-height: auto !important;
            padding-bottom: 0 !important;
        }

        .muscle-popover {
            position: absolute;
            max-width: 320px;
            background: #fff;
            border: 1px solid #cdd4db;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, .12);
            padding: 12px 14px;
            z-index: 20;
        }

        .muscle-popover h4 {
            margin: 0 0 6px;
            font-size: 1.05rem;
        }

        .muscle-popover p {
            margin: 0 0 8px;
            color: #4b5563;
            line-height: 1.5;
        }

        .muscle-popover .close-btn {
            position: absolute;
            right: 8px;
            top: 6px;
            border: none;
            background: transparent;
            font-size: 18px;
            cursor: pointer;
            color: #6b7280;
        }

        /* æ‰‹è‡‚é¸æ“‡æŒ‰éˆ•æ¨£å¼ */
        .arm-selection-buttons {
            margin-top: 15px;
        }

        .arm-selection-buttons .btn {
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .arm-selection-buttons .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .arm-selection-buttons .btn i {
            margin-right: 8px;
            font-size: 1.1rem;
        }

        /* å™¨æé¡¯ç¤ºæ¨£å¼ */
        .equipment-display {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* è®“å¡ç‰‡å€å¡Šæ’æ»¿é é¢ */
        .container {
            max-width: 100% !important;
            /* ç§»é™¤ bootstrap çš„å›ºå®šå¯¬åº¦ */
            padding-left: 20px;
            padding-right: 20px;
        }

        .equipment-display {
            width: 100%;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* å¹³æ¿ï¼ˆå°æ–¼ 1200pxï¼‰æ™‚æ”¹ 3 æ¬„ */
        @media (max-width: 1200px) {
            .equipment-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* æ‰‹æ©Ÿï¼ˆå°æ–¼ 768pxï¼‰æ™‚æ”¹ 1 æ¬„ */
        @media (max-width: 768px) {
            .equipment-grid {
                grid-template-columns: 1fr;
            }
        }

        .equipment-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #95abc3;
        }

        .equipment-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .equipment-card p {
            color: #6c757d;
            margin-bottom: 15px;
        }

        .training-details {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .training-details h5 {
            width: 100%;
            /* åƒæ»¿å®¹å™¨å¯¬åº¦ */
            text-align: center;
            /* æ¨™é¡Œæ–‡å­—ç½®ä¸­ */
            color: #495057;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .training-details h5 i {
            margin-right: 6px;
            /* icon èˆ‡æ–‡å­—é–“éš” */
            color: #007bff;
            vertical-align: middle;
            /* å‚ç›´å°é½Š */
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px 0;
        }

        .detail-label {
            font-weight: 600;
            color: #495057;
        }

        .detail-value {
            color: #6c757d;
        }

        .loading-spinner {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 1.1rem;
        }

        .error-message {
            text-align: center;
            padding: 40px;
            color: #58474d;
            font-size: 1.1rem;
            background: #dec6cf;
            border-radius: 8px;
        }

        .favorite-btn:focus,
        .favorite-btn:active {
            outline: none !important;
            box-shadow: none !important;
        }

        .mb-4-3 {
            margin-bottom: 2.1rem !important;
            /* 40px */
        }
    </style>

</head>

<body>
    <div id="app">
        <div id="sidebar" class="active">
            <div class="sidebar-wrapper active">
                <div class="sidebar-menu">
                    <ul class="menu">
                        <li class="sidebar-title">å€‹äººè³‡è¨Š</li>

                        <li class="sidebar-item">
                            <a href="index.html" class='sidebar-link'>
                                <i class="bi bi-file-earmark-medical-fill"></i>
                                <span>å¥åº·å„€è¡¨æ¿</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="profile.html" class='sidebar-link'>
                                <i class="bi bi-person-badge-fill"></i>
                                <span>åŸºæœ¬è³‡æ–™</span>
                            </a>
                        </li>
                        <li class="sidebar-title">å„é¡å»ºè­°</li>
                        <li class="sidebar-item active">
                            <a href="training.html" class='sidebar-link'>
                                <i class="bi bi-pentagon-fill"></i>
                                <span>è¨“ç·´æ¢ç´¢</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="food.html" class='sidebar-link'>
                                <i class="bi bi-basket-fill"></i>
                                <span>é£²é£ŸæŒ‡å—</span>
                            </a>
                        </li>
                        <li class="sidebar-title">å…¶ä»–é …ç›®</li>
                        <li class="sidebar-item">
                            <a href="favorite.html" class='sidebar-link'>
                                <i class="bi bi-grid-1x2-fill"></i>
                                <span>æˆ‘çš„æœ€æ„›</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="history.html" class='sidebar-link'>
                                <i class="bi bi-pen-fill"></i>
                                <span>æ­·å²ç´€éŒ„</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <button class="sidebar-toggler btn x"><i data-feather="x"></i></button>
            </div>
        </div>
        <div id="main">
            <header class="mb-3">
                <a href="#" class="burger-btn d-block d-xl-none">
                    <i class="bi bi-justify fs-3"></i>
                </a>
            </header>

            <div class="page-heading">
                <div class="page-title">
                    <div class="row">
                        <div class="col-12 col-md-6 order-md-1 order-last">
                            <h3 class="mb-4-3 me-3">é»é¸æƒ³è¨“ç·´çš„ç›®æ¨™è‚Œç¾¤ğŸ’ªğŸ»</h3>
                            <p class="text-muted mt-2 mb-4" style="font-size: 1rem;">
                                ä»¥ä¸‹æ˜¯è¨“ç·´éƒ¨ä½èªªæ˜ï¼Œå¯ä¾æ­¤ä½œç‚ºè¨“ç·´åƒè€ƒä¾æ“šï¼Œå”åŠ©è¦åŠƒé©åˆæ‚¨çš„å¥èº«èœå–®ã€‚
                            </p>
                        </div>
                        <div class="col-12 col-md-6 order-md-2 order-first">
                            <nav aria-label="breadcrumb" class="breadcrumb-header float-start float-lg-end">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">å¥åº·å„€è¡¨æ¿</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">è¨“ç·´æ¢ç´¢</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>

                <!-- ä¸»è¦å…§å®¹å€åŸŸ -->
                <div class="container">
                    <section class="section">

                        <!-- äººé«”åœ–å®¹å™¨ -->
                        <div id="human-body-map-container">
                            <!-- äººé«”åœ– SVG -->
                            <svg id="human-body-map-svg" viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
                                <!-- èƒŒéƒ¨ï¼šæ”¾åˆ°æœ€ä¸Šé¢ -->
                                <rect class="body-part" data-muscle="èƒŒéƒ¨" x="160" y="90" width="80" height="160" rx="10"
                                    fill="transparent" stroke="#999" stroke-dasharray="3,3" />

                                <!-- é ­éƒ¨ -->
                                <ellipse class="body-part" data-muscle="é ­é ¸" cx="200" cy="50" rx="30" ry="40"
                                    fill="#dbe4ed" />

                                <!-- èƒ¸éƒ¨ -->
                                <path class="body-part" data-muscle="èƒ¸éƒ¨"
                                    d="M160 90 Q200 70 240 90 L240 150 Q200 170 160 150 Z" fill="#dbe4ed" />

                                <!-- è…¹éƒ¨ -->
                                <rect class="body-part" data-muscle="è…¹éƒ¨" x="170" y="160" width="60" height="80" rx="8"
                                    fill="#dbe4ed" />

                                <!-- å·¦è‚©è†€ -->
                                <circle class="body-part" data-muscle="è‚©è†€" cx="150" cy="100" r="25" fill="#dbe4ed" />

                                <!-- å³è‚©è†€ -->
                                <circle class="body-part" data-muscle="è‚©è†€" cx="250" cy="100" r="25" fill="#dbe4ed" />

                                <!-- å·¦å¤§è‡‚ -->
                                <ellipse class="body-part" data-muscle="å¤§è‡‚" cx="130" cy="140" rx="20" ry="40"
                                    fill="#dbe4ed" />
                                <!-- å·¦å°è‡‚ -->
                                <ellipse class="body-part" data-muscle="å°è‡‚" cx="120" cy="200" rx="18" ry="35"
                                    fill="#dbe4ed" />

                                <!-- å³å¤§è‡‚ -->
                                <ellipse class="body-part" data-muscle="å¤§è‡‚" cx="270" cy="140" rx="20" ry="40"
                                    fill="#dbe4ed" />
                                <!-- å³å°è‡‚ -->
                                <ellipse class="body-part" data-muscle="å°è‡‚" cx="280" cy="200" rx="18" ry="35"
                                    fill="#dbe4ed" />

                                <!-- è‡€éƒ¨ -->
                                <ellipse class="body-part" data-muscle="è‡€éƒ¨" cx="200" cy="260" rx="40" ry="30"
                                    fill="#dbe4ed" />

                                <!-- å·¦å¤§è…¿ -->
                                <ellipse class="body-part" data-muscle="å¤§è…¿" cx="180" cy="340" rx="25" ry="60"
                                    fill="#dbe4ed" />

                                <!-- å³å¤§è…¿ -->
                                <ellipse class="body-part" data-muscle="å¤§è…¿" cx="220" cy="340" rx="25" ry="60"
                                    fill="#dbe4ed" />

                                <!-- å·¦å°è…¿ -->
                                <ellipse class="body-part" data-muscle="å°è…¿" cx="180" cy="450" rx="20" ry="55"
                                    fill="#dbe4ed" />

                                <!-- å³å°è…¿ -->
                                <ellipse class="body-part" data-muscle="å°è…¿" cx="220" cy="450" rx="20" ry="55"
                                    fill="#dbe4ed" />
                            </svg>
                            <div id="muscle-popover-root"></div>

                            <!-- æç¤ºæ¡† -->
                            <div class="tooltip-muscle-groups" id="tooltip">é»æ“Šé¸æ“‡ç›®æ¨™è‚Œç¾¤</div>
                        </div>

                        <!-- é¸ä¸­è‚Œç¾¤é¡¯ç¤º -->
                        <div id="selected-muscle-display"
                            style="margin-top: 20px; padding: 15px; background-color: #e9eff5; border-radius: 8px; display: none; border: 1px solid #cdd4db;">
                            <h3>å·²é¸æ“‡è‚Œç¾¤ï¼š<span id="selected-muscle-name"></span></h3>
                            <p id="selected-muscle-description"></p>
                        </div>

                        <!-- æ¨è–¦å™¨æé¡¯ç¤ºå€åŸŸ -->
                        <div class="equipment-display" id="equipment-display" style="display: none;">
                            <h3>æ¨è–¦è¨“ç·´å™¨æ</h3>
                            <div id="equipment-list"></div>
                        </div>

                        <!-- ç”Ÿæˆçš„è¨“ç·´è¨ˆç•«é¡¯ç¤ºå€åŸŸ -->
                        <div id="training-plan-display"
                            style="display: none; margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
                            <h3><i class="fas fa-clipboard-list"></i> æ‚¨çš„å€‹äººåŒ–è¨“ç·´è¨ˆç•«</h3>
                            <div id="training-plan-content"></div>
                        </div>
                    </section>
                </div>

            </div>

            <footer>
                <div class="footer clearfix mb-0 text-muted">
                    <div class="float-start">
                        <p>å¥ç¿’ç”Ÿ</p>
                    </div>
                    <div class="float-end">
                        <p>è¬æ˜€å€¢ é»ƒè© ç¿° å‘‚æ²å£ æ¸¸åšç¿”</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>

    <script src="assets/js/main.js"></script>
    <!-- âœ… å¼•å…¥å…±ç”¨æ–¹æ³• -->
    <script src="assets/js/common.js"></script>

    <!-- è‡ªå®šç¾© JavaScript é‚è¼¯ -->
    <script>

        let selectedMuscle = null;

        // åˆå§‹åŒ–äº‹ä»¶ç›£è½
        document.addEventListener('DOMContentLoaded', function () {
            initializeBodyMap();
            // initializeMuscleGroupList(); // æš«æ™‚ç§»é™¤ï¼Œå› ç‚ºäººé«”åœ–å·²ç¶“è¶³å¤ ç›´è§€
            initializeGeneratePlanButton();
        });

        // åˆå§‹åŒ–äººé«”åœ–
        function initializeBodyMap() {
            const bodyParts = document.querySelectorAll('.body-part');
            const tooltip = document.getElementById('tooltip');

            bodyParts.forEach(part => {
                // æ»‘é¼ ç§»å…¥é¡¯ç¤ºæç¤º
                part.addEventListener('mouseenter', function (e) {
                    const muscleName = this.getAttribute('data-muscle');
                    tooltip.textContent = `é»æ“Šé¸æ“‡ï¼š${muscleName}`;
                    tooltip.style.opacity = '1';
                });

                // æ»‘é¼ ç§»å‹•æ›´æ–°æç¤ºä½ç½®
                part.addEventListener('mousemove', function (e) {
                    const rect = document.getElementById('human-body-map-container').getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 10) + 'px';
                    tooltip.style.top = (e.clientY - rect.top - 30) + 'px';
                });

                // æ»‘é¼ ç§»å‡ºéš±è—æç¤º
                part.addEventListener('mouseleave', function () {
                    tooltip.style.opacity = '0';
                });

                // é»æ“Šé¸æ“‡è‚Œç¾¤
                part.addEventListener('click', function (e) {
                    const muscleName = this.getAttribute('data-muscle');
                    selectMuscleGroup(muscleName, e); // æŠŠ event å‚³é€²å»
                });

            });
        }

        // é¸æ“‡è‚Œç¾¤
        function selectMuscleGroup(muscleName, evt) {
            // å¦‚æœæ˜¯å¤§è‡‚ï¼Œé¡¯ç¤ºé¸æ“‡äºŒé ­æˆ–ä¸‰é ­çš„é¸é …
            if (muscleName === 'å¤§è‡‚') {
                showArmSelection(evt);
                return;
            }

            // å¦‚æœæ˜¯èº«é«”ï¼Œé¡¯ç¤ºé¸æ“‡èƒ¸éƒ¨æˆ–èƒŒéƒ¨çš„é¸é …
            if (muscleName === 'èº«é«”') {
                showBodySelection(evt);
                return;
            }

            selectedMuscle = muscleName;
            updateMuscleSelection(muscleName);

            // ä¸Šæ–¹å¤§å¡ä¸è¦è‡ªå‹•é¡¯ç¤º
            const sel = document.getElementById('selected-muscle-display');
            if (sel) sel.style.display = 'none';

            // â˜… æ¯æ¬¡é»æ–°è‚Œç¾¤ï¼šå…ˆæŠŠåº•ä¸‹ã€Œæ¨è–¦è¨“ç·´å™¨æã€æ•´å¡Šæ”¶èµ·ä¾†
            const equip = document.getElementById('equipment-display');
            if (equip) equip.style.display = 'none';

            // â˜… åŒæ™‚æŠŠã€Œç”Ÿæˆå€‹äººè¨“ç·´è¨ˆç•«ã€æŒ‰éˆ•ä¹Ÿéš±è—
            const genBtn = document.getElementById('generate-plan-btn');
            if (genBtn) genBtn.style.display = 'none';

            // â˜… ä¹ŸæŠŠèˆŠçš„è¨“ç·´è¨ˆç•«å€å¡Šæ”¶èµ·ï¼ˆé¿å…æ®˜ç•™ï¼‰
            const plan = document.getElementById('training-plan-display');
            if (plan) plan.style.display = 'none';

            // åªå½ˆå‡º Popoverï¼Œä¸è‡ªå‹•å±•é–‹åº•éƒ¨
            if (evt) showMusclePopover(muscleName, evt.clientX, evt.clientY);
        }

        // æ›´æ–°è‚Œç¾¤é¸æ“‡çš„è¦–è¦ºç‹€æ…‹
        function updateMuscleSelection(muscleName) {
            // é‡ç½®ï¼šç§»é™¤ selected ä¸¦æ¸…ç©ºå¯èƒ½çš„ inline æ¨£å¼ï¼Œå›åˆ° CSS é è¨­
            document.querySelectorAll('.body-part').forEach(part => {
                part.classList.remove('selected');
                part.style.fill = '';         // ç”¨ CSS é è¨­ fill
                part.style.stroke = '';       // ç”¨ CSS é è¨­ strokeï¼ˆ#87959bï¼‰
                part.style.strokeWidth = '';  // ç”¨ CSS é è¨­ç·šå¯¬
            });

            // é«˜äº®é¸ä¸­çš„éƒ¨ä½ï¼šåªæ”¹å¡«è‰²ï¼Œä¸å‹•é‚Šç·š
            document.querySelectorAll(`[data-muscle="${muscleName}"]`).forEach(part => {
                part.classList.add('selected');
                part.style.fill = '#b0bec5';  // æ¯”åŸæœ¬ç•¥æ·±ä¸€é»ï¼Œå°æ¯”æ›´å¥½
                // ä¸è¨­å®š stroke / strokeWidthï¼Œè®“ CSS æ¥æ‰‹ï¼ˆselected æœƒæ˜¯ 2pxï¼‰
            });
        }

        // é¡¯ç¤ºæ‰‹è‡‚é¸æ“‡å½ˆå‡ºè¦–çª—
        function showArmSelection(evt) {
            const root = document.getElementById('muscle-popover-root');
            if (!root) return;
            root.innerHTML = '';

            const pop = document.createElement('div');
            pop.className = 'muscle-popover';
            pop.innerHTML = `
                <button class="close-btn" aria-label="close">&times;</button>
                <h4>é¸æ“‡æ‰‹è‡‚è¨“ç·´éƒ¨ä½</h4>
                <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•é¸æ“‡è¦è¨“ç·´çš„è‚Œç¾¤</p>
                <div class="arm-selection-buttons">
                    <button class="btn btn-primary w-100 mb-2" onclick="selectArmMuscle('äºŒé ­', ${evt.clientX}, ${evt.clientY})">
                        <i class="bi bi-target"></i> äºŒé ­è‚Œè¨“ç·´
                    </button>
                    <button class="btn btn-success w-100" onclick="selectArmMuscle('ä¸‰é ­', ${evt.clientX}, ${evt.clientY})">
                        <i class="bi bi-fire"></i> ä¸‰é ­è‚Œè¨“ç·´
                    </button>
                </div>
            `;
            root.appendChild(pop);

            // å®šä½å½ˆå‡ºè¦–çª—
            const container = document.getElementById('human-body-map-container');
            const rect = container.getBoundingClientRect();
            let left = evt.clientX - rect.left + 10;
            let top = evt.clientY - rect.top + 10;
            pop.style.left = `${left}px`;
            pop.style.top = `${top}px`;

            // é—œé–‰æŒ‰éˆ•
            pop.querySelector('.close-btn').addEventListener('click', () => root.innerHTML = '');
        }

        // é¸æ“‡æ‰‹è‡‚è‚Œç¾¤
        function selectArmMuscle(muscleType, clientX, clientY) {
            selectedMuscle = muscleType;
            updateMuscleSelection('å¤§è‡‚'); // é«˜äº®æ•´å€‹å¤§è‡‚å€åŸŸ

            // éš±è—ä¹‹å‰çš„é¡¯ç¤º
            const equip = document.getElementById('equipment-display');
            if (equip) equip.style.display = 'none';

            // å¾è³‡æ–™åº«ç²å–è¨“ç·´è³‡æ–™
            fetchTrainingData(muscleType);

            // é—œé–‰æ‰‹è‡‚é¸æ“‡å½ˆå‡ºè¦–çª—
            const root = document.getElementById('muscle-popover-root');
            if (root) root.innerHTML = '';
        }

        // é¡¯ç¤ºèº«é«”é¸æ“‡å½ˆå‡ºè¦–çª—
        function showBodySelection(evt) {
            const root = document.getElementById('muscle-popover-root');
            if (!root) return;
            root.innerHTML = '';

            const pop = document.createElement('div');
            pop.className = 'muscle-popover';
            pop.innerHTML = `
                <button class="close-btn" aria-label="close">&times;</button>
                <h4>é¸æ“‡èº«é«”è¨“ç·´éƒ¨ä½</h4>
                <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•é¸æ“‡è¦è¨“ç·´çš„è‚Œç¾¤</p>
                <div class="arm-selection-buttons">
                    <button class="btn btn-primary w-100 mb-2" onclick="selectBodyMuscle('èƒ¸éƒ¨', ${evt.clientX}, ${evt.clientY})">
                        <i class="bi bi-heart"></i> èƒ¸éƒ¨è¨“ç·´
                    </button>
                    <button class="btn btn-success w-100" onclick="selectBodyMuscle('èƒŒéƒ¨', ${evt.clientX}, ${evt.clientY})">
                        <i class="bi bi-arrow-up-circle"></i> èƒŒéƒ¨è¨“ç·´
                    </button>
                </div>
            `;
            root.appendChild(pop);

            // å®šä½å½ˆå‡ºè¦–çª—
            const container = document.getElementById('human-body-map-container');
            const rect = container.getBoundingClientRect();
            let left = evt.clientX - rect.left + 10;
            let top = evt.clientY - rect.top + 10;
            pop.style.left = `${left}px`;
            pop.style.top = `${top}px`;

            // é—œé–‰æŒ‰éˆ•
            pop.querySelector('.close-btn').addEventListener('click', () => root.innerHTML = '');
        }

        // é¸æ“‡èº«é«”è‚Œç¾¤
        function selectBodyMuscle(muscleType, clientX, clientY) {
            selectedMuscle = muscleType;
            updateMuscleSelection('èº«é«”'); // é«˜äº®æ•´å€‹èº«é«”å€åŸŸ

            // éš±è—ä¹‹å‰çš„é¡¯ç¤º
            const equip = document.getElementById('equipment-display');
            if (equip) equip.style.display = 'none';

            // å¾è³‡æ–™åº«ç²å–è¨“ç·´è³‡æ–™
            fetchTrainingData(muscleType);

            // é—œé–‰èº«é«”é¸æ“‡å½ˆå‡ºè¦–çª—
            const root = document.getElementById('muscle-popover-root');
            if (root) root.innerHTML = '';
        }

        function showMusclePopover(muscleName, clientX, clientY) {
            const root = document.getElementById('muscle-popover-root');
            if (!root) return;
            root.innerHTML = '';

            // å»ºç«‹ Popoverï¼ˆåŒ…å«æŸ¥çœ‹å™¨ææŒ‰éˆ•ï¼‰
            const pop = document.createElement('div');
            pop.className = 'muscle-popover';
            pop.innerHTML = `
                <button class="close-btn" aria-label="close">&times;</button>
                <h4>å·²é¸æ“‡è‚Œç¾¤ï¼š${muscleName}</h4>
                <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹å°æ‡‰çš„è¨“ç·´å‹•ä½œ</p>
                <div style="margin-top:10px; display:flex; gap:8px; justify-content:flex-end;">
                    <button id="btn-open-equip" class="btn btn-primary">æŸ¥çœ‹å™¨æ</button>
                </div>
            `;
            root.appendChild(pop);

            // å®šä½ï¼ˆæ²¿ç”¨ä½ åŸæœ¬çš„å®¹å™¨ï¼‰
            const container = document.getElementById('human-body-map-container');
            const rect = container.getBoundingClientRect();
            let left = clientX - rect.left + 10;
            let top = clientY - rect.top + 10;
            pop.style.left = `${left}px`;
            pop.style.top = `${top}px`;

            // é—œé–‰
            pop.querySelector('.close-btn').addEventListener('click', () => root.innerHTML = '');

            // æŸ¥çœ‹å™¨æï¼šå¾è³‡æ–™åº«ç²å–è¨“ç·´è³‡æ–™
            const openEquip = pop.querySelector('#btn-open-equip');
            if (openEquip) {
                openEquip.addEventListener('click', () => {
                    // å¾è³‡æ–™åº«ç²å–è¨“ç·´è³‡æ–™
                    fetchTrainingData(muscleName);

                    // é—œé–‰å½ˆå‡ºè¦–çª—
                    root.innerHTML = '';
                });
            }
        }

        // å¾è³‡æ–™åº«ç²å–è¨“ç·´è³‡æ–™
        async function fetchTrainingData(muscleName) {
            try {
                // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
                showLoading();

                // é™¤éŒ¯è³‡è¨Š
                console.log(`æ­£åœ¨æŸ¥è©¢è‚Œç¾¤ï¼š${muscleName}`);

                // å‘¼å« PHP å¾Œç«¯ API
                // åˆ¤æ–·æ˜¯å¦æœ¬æ©Ÿ
                const isLocalHost = /^(localhost|127\.0\.0\.1|::1)$/.test(location.hostname);

                // ç·šä¸Šè«‹æ”¹æˆä½ çš„æ­£å¼ç¶²åŸŸï¼ˆå«å­ç›®éŒ„å°±è‡ªå·±åŠ ä¸Šå»ï¼‰
                const baseURL = isLocalHost
                    ? location.origin
                    : "https://jianshen.ngrok.app/å¥ç¿’ç”Ÿ/dist";

                // ç”¨é€™ä¸€æ¢å°±æ¶µè“‹ä½ çš„å…©ç¨®å¯«æ³•
                const response = await fetch(
                    `${baseURL}/api/get_exercises.php?muscle=${encodeURIComponent(muscleName)}`
                );

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();

                // é™¤éŒ¯è³‡è¨Š
                console.log('API å›æ‡‰çµæœï¼š', result);

                if (result.success && result.data && result.data.length > 0) {
                    console.log(`æ‰¾åˆ° ${result.data.length} å€‹è¨“ç·´å‹•ä½œ`);
                    displayTrainingData(muscleName, result.data);
                } else {
                    console.log('æ²’æœ‰æ‰¾åˆ°è¨“ç·´è³‡æ–™');
                    showError(`æŠ±æ­‰ï¼Œç›®å‰æ²’æœ‰æ‰¾åˆ°é‡å° ${muscleName} çš„è¨“ç·´è³‡æ–™ã€‚`);
                }

                hideLoading();

            } catch (error) {
                console.error('ç²å–è¨“ç·´è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤:', error);
                showError('ç²å–è¨“ç·´è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚');
                hideLoading();
            }
        }

        // é¡¯ç¤ºè¨“ç·´è³‡æ–™
        function displayTrainingData(muscleName, trainingData) {
            const display = document.getElementById('equipment-display');
            const listElement = document.getElementById('equipment-list');

            if (!display || !listElement) return;

            listElement.innerHTML = '';

            if (trainingData && trainingData.length > 0) {
                const equipmentGrid = document.createElement('div');
                equipmentGrid.className = 'equipment-grid';

                trainingData.forEach((exercise, index) => {
                    const exerciseCard = createExerciseCard(exercise, index + 1);
                    equipmentGrid.appendChild(exerciseCard);
                });

                listElement.appendChild(equipmentGrid);
                display.style.display = 'block';
                display.scrollIntoView({ behavior: 'smooth', block: 'start' });

                // âœ… åœ¨é€™è£¡ç¶å®šäº‹ä»¶ï¼Œç¢ºä¿å¡ç‰‡å·²ç¶“å­˜åœ¨
                document.querySelectorAll(".favorite-btn").forEach(btn => {
                    btn.addEventListener("click", function () {
                        const exercise = JSON.parse(this.getAttribute("data-exercise"));
                        toggleFavorite(exercise);
                    });
                });

            } else {
                showError(`æ²’æœ‰æ‰¾åˆ° ${muscleName} çš„è¨“ç·´è³‡æ–™`);
            }
        }
        // å»ºç«‹è¨“ç·´å‹•ä½œå¡ç‰‡
        // å»ºç«‹è¨“ç·´å‹•ä½œå¡ç‰‡
        function createExerciseCard(exercise, index) {
            const card = document.createElement('div');
            card.className = 'equipment-card';

            // è¨ˆç®—å»ºè­°é‡é‡ç¯„åœ
            const hypertrophyWeightMin = Math.round(parseFloat(exercise.hypertrophy_load_min_pct) || 0);
            const hypertrophyWeightMax = hypertrophyWeightMin + 15;
            const fatlossWeightMin = hypertrophyWeightMin - 20;
            const fatlossWeightMax = hypertrophyWeightMin - 5;

            // åˆ¤æ–·æ˜¯å¦å·²ç¶“æ”¶è—éï¼ˆé¿å…é‡æ•´å¾Œæ˜Ÿè™Ÿè®Šå›ç©ºå¿ƒï¼‰
            let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
            let isFavorite = favorites.some(item => item.name === exercise.name);

            card.innerHTML = `
        <!-- æ¨™é¡Œ + æ”¶è— -->
        <div class="d-flex justify-content-between align-items-center">
            <h4>${index}. ${exercise.name}</h4>
            <button type="button" 
                    class="btn btn-link p-0 m-0 favorite-btn" 
                    style="color:#f0ad4e; outline:none; box-shadow:none;"
                    onclick='toggleFavorite(${JSON.stringify(exercise)}, this)'>
                <i class="bi ${isFavorite ? "bi-star-fill" : "bi-star"}"></i>
            </button>
        </div>

        <p>é‡å° ${exercise.target_muscle} çš„å°ˆæ¥­è¨“ç·´å‹•ä½œ</p>

        <!-- è©³æƒ…æŒ‰éˆ• -->
        <div class="d-flex justify-content-end mt-2 mb-2">
            <button type="button" 
                    class="p-0 bg-transparent border-0 shadow-none" 
                    data-bs-toggle="modal" 
                    data-bs-target="#exerciseModal"
                    style="line-height:1; outline:none;"
                    onclick='openExerciseModal(${JSON.stringify(exercise)}, ${index})'>
                <i class="bi bi-info-circle text-primary fs-5"></i>
            </button>
        </div>
        
        <!-- å¢è‚Œè¨“ç·´ -->
        <div class="training-details">
            <h5><i class="bi bi-target"></i> å¢è‚Œè¨“ç·´</h5>
            <div class="detail-row">
                <span class="detail-label">çµ„æ•¸ï¼š</span>
                <span class="detail-value">${exercise.hypertrophy_sets_min}-${exercise.hypertrophy_sets_max} çµ„</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">æ¬¡æ•¸ï¼š</span>
                <span class="detail-value">${exercise.hypertrophy_reps_min}-${exercise.hypertrophy_reps_max} æ¬¡</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">é‡é‡ï¼š</span>
                <span class="detail-value">${hypertrophyWeightMin}-${hypertrophyWeightMax}% é«”é‡</span>
            </div>
        </div>
        
        <!-- æ¸›è„‚è¨“ç·´ -->
        <div class="training-details">
            <h5><i class="bi bi-fire"></i> æ¸›è„‚è¨“ç·´</h5>
            <div class="detail-row">
                <span class="detail-label">çµ„æ•¸ï¼š</span>
                <span class="detail-value">${exercise.fatloss_sets_min}-${exercise.fatloss_sets_max} çµ„</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">æ¬¡æ•¸ï¼š</span>
                <span class="detail-value">${exercise.fatloss_reps_min}-${exercise.fatloss_reps_max} æ¬¡</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">é‡é‡ï¼š</span>
                <span class="detail-value">${fatlossWeightMin}-${fatlossWeightMax}% é«”é‡</span>
            </div>
        </div>
    `;

            return card;
        }

        // æ”¶è—åŠŸèƒ½
        function toggleFavorite(exercise, btn) {
            let favorites = JSON.parse(localStorage.getItem("favorites")) || [];

            const exists = favorites.some(item => item.name === exercise.name);

            if (exists) {
                favorites = favorites.filter(item => item.name !== exercise.name);
                alert(`å·²å–æ¶ˆæ”¶è—ï¼š${exercise.name}`);
                btn.querySelector("i").classList.replace("bi-star-fill", "bi-star"); // è®Šç©ºå¿ƒ
            } else {
                favorites.push(exercise);
                alert(`å·²åŠ å…¥æ”¶è—ï¼š${exercise.name}`);
                btn.querySelector("i").classList.replace("bi-star", "bi-star-fill"); // è®Šå¯¦å¿ƒ
            }

            localStorage.setItem("favorites", JSON.stringify(favorites));
        }

        // âœ… å½ˆçª—æ§åˆ¶ï¼šå¯åµŒå…¥èƒ¸éƒ¨ç¬¬ 1 å€‹å™¨æ¢°çš„ mp4
        function openExerciseModal(exercise, index) {
            const videoContainer = document.getElementById('exerciseVideoContainer');
            videoContainer.innerHTML = "";

            // å‹•æ…‹æ’å…¥å…§å®¹
            videoContainer.innerHTML = `
        <!-- ç¤ºç¯„å½±ç‰‡ -->
        <div class="mb-3">
            <h6 style="color:#2c3e50; font-weight:600; font-size:1rem;">ç¤ºç¯„å½±ç‰‡ï¼š</h6>
            <div class="ratio ratio-16x9">
                <video id="exerciseVideo" controls playsinline preload="auto">
                    <source src="${exercise.video_url || ''}" type="video/mp4">
                    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚
                </video>
            </div>
        </div>

        <!-- å‹•ä½œè§£èªª -->
        <div class="mb-3">
            <h6 style="color:#2c3e50; font-weight:600; font-size:1rem;">å‹•ä½œè§£èªªï¼š</h6>
            <p style="color:#555; line-height:1.6;">
                ${exercise.instruction_full || exercise.description || "æ­¤å‹•ä½œæš«ç„¡è§£èªª"}
            </p>
        </div>

        <!-- é©ç”¨å°è±¡ -->
        <div>
            <h6 style="color:#2c3e50; font-weight:600; font-size:1rem;">é©ç”¨å°è±¡ï¼š</h6>
            <p style="color:#555; line-height:1.6;">
                ${exercise.user_level || "ä¸é™ï¼Œè«‹ä¾ç…§è‡ªèº«èƒ½åŠ›é¸æ“‡æ˜¯å¦åŸ·è¡Œã€‚"}
            </p>
        </div>
        
        <!-- æ³¨æ„äº‹é … -->
        <div class="mb-3">
            <h6 style="color:#2c3e50; font-weight:600; font-size:1rem;">æ³¨æ„äº‹é …ï¼š</h6>
            <p style="color:#555; line-height:1.6;">
                ${exercise.caution || "è«‹ä¿æŒæ­£ç¢ºå§¿å‹¢ï¼Œé¿å…å—å‚·"}
            </p>
        </div>        
    `;

            // é–‹å•Ÿ Modal
            const modalEl = document.getElementById('exerciseModal');
            const modal = bootstrap.Modal.getOrCreateInstance(modalEl);
            modal.show();

            // é—œé–‰æ™‚é‡ç½®å½±ç‰‡
            modalEl.addEventListener("hidden.bs.modal", () => {
                const v = document.getElementById("exerciseVideo");
                if (v) { v.pause(); try { v.currentTime = 0; } catch (e) { } }
            }, { once: true });
        }

        // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
        function showLoading() {
            const display = document.getElementById('equipment-display');
            const listElement = document.getElementById('equipment-list');

            if (display && listElement) {
                display.style.display = 'block';
                listElement.innerHTML = '<div class="loading-spinner">æ­£åœ¨è¼‰å…¥è¨“ç·´è³‡æ–™...</div>';
            }
        }

        // éš±è—è¼‰å…¥ç‹€æ…‹
        function hideLoading() {
            // è¼‰å…¥å®Œæˆå¾Œï¼Œé¡¯ç¤ºç‹€æ…‹ç”± displayTrainingData æ§åˆ¶
        }

        document.querySelectorAll(".favorite-btn").forEach(btn => {
            btn.addEventListener("click", function () {
                const exercise = JSON.parse(this.getAttribute("data-exercise"));
                toggleFavorite(exercise);
            });
        });

        // é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
        function showError(message) {
            const display = document.getElementById('equipment-display');
            const listElement = document.getElementById('equipment-list');

            if (display && listElement) {
                display.style.display = 'block';
                listElement.innerHTML = `<div class="error-message">${message}</div>`;
            }
        }

        // é¡¯ç¤ºé¸ä¸­çš„è‚Œç¾¤è³‡è¨Š
        function displaySelectedMuscle(muscleName) {
            const display = document.getElementById('selected-muscle-display');
            const nameElement = document.getElementById('selected-muscle-name');
            const descriptionElement = document.getElementById('selected-muscle-description');

            nameElement.textContent = muscleName;
            descriptionElement.textContent = muscleData[muscleName].description;
            display.style.display = 'block';
        }

        // é¡¯ç¤ºæ¨è–¦å™¨æ
        function displayRecommendedEquipment(muscleName) {
            const display = document.getElementById('equipment-display');
            const listElement = document.getElementById('equipment-list');

            const equipment = muscleData[muscleName].equipment;
            listElement.innerHTML = '';

            if (equipment && equipment.length > 0) {
                equipment.forEach(item => {
                    const equipmentCard = document.createElement('div');
                    equipmentCard.className = 'equipment-card';
                    equipmentCard.innerHTML = `
                        <img src="${item.image}" alt="${item.alt}" onerror="this.style.display='none'; this.nextElementSibling.textContent='åœ–ç‰‡è¼‰å…¥å¤±æ•—';">
                        <h4>${item.name}</h4>
                        <p>${item.description}</p>
                    `;
                    listElement.appendChild(equipmentCard);
                });
                display.style.display = 'block';
            } else {
                listElement.innerHTML = '<p>æ­¤è‚Œç¾¤æš«ç„¡æ¨è–¦å™¨æã€‚</p>';
                display.style.display = 'block';
            }
        }

        // åˆå§‹åŒ–ç”Ÿæˆè¨ˆç•«æŒ‰éˆ•
        function initializeGeneratePlanButton() {
            const button = document.getElementById('generate-plan-btn');
            button.addEventListener('click', generateTrainingPlan);
        }

        // ç”Ÿæˆè¨“ç·´è¨ˆç•«
        function generateTrainingPlan() {
            if (!selectedMuscle) return;

            const plan = trainingPlans[selectedMuscle];
            const display = document.getElementById('training-plan-display');
            const content = document.getElementById('training-plan-content');

            if (!plan) {
                content.innerHTML = `<p>æŠ±æ­‰ï¼Œç›®å‰æ²’æœ‰é‡å° ${selectedMuscle} çš„è¨“ç·´è¨ˆç•«ã€‚</p>`;
                display.style.display = 'block';
                display.scrollIntoView({ behavior: 'smooth' });
                return;
            }

            let planHTML = `
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">
                        <i class="fas fa-target"></i> ${selectedMuscle}å°ˆé …è¨“ç·´è¨ˆç•«
                    </h4>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <h5><i class="fas fa-list"></i> è¨“ç·´å‹•ä½œï¼š</h5>
                    <div style="display: grid; gap: 10px; margin-top: 10px;">
            `;

            plan.exercises.forEach((exercise, index) => {
                planHTML += `
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong>${index + 1}. ${exercise.name}</strong>
                            <span style="color: #666; font-size: 0.9rem;">${exercise.sets}</span>
                        </div>
                        <div style="margin-top: 5px; color: #666;">
                            <span>æ¬¡æ•¸ï¼š${exercise.reps}</span> | 
                            <span>ä¼‘æ¯ï¼š${exercise.rest}</span>
                        </div>
                    </div>
                `;
            });

            planHTML += `
                    </div>
                </div>
                
                <div>
                    <h5><i class="fas fa-lightbulb"></i> è¨“ç·´å°è²¼å£«ï¼š</h5>
                    <ul style="margin-top: 10px; padding-left: 20px;">
            `;

            plan.tips.forEach(tip => {
                planHTML += `<li style="margin-bottom: 5px; color: #666;">${tip}</li>`;
            });

            planHTML += `
                    </ul>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: #e7f3ff; border-radius: 8px;">
                    <p style="margin: 0; color: #0066cc; font-weight: 500;">
                        <i class="fas fa-info-circle"></i> 
                        å»ºè­°æ¯é€±é€²è¡Œ2-3æ¬¡æ­¤éƒ¨ä½è¨“ç·´ï¼Œçµ¦è‚Œè‚‰å……è¶³çš„æ¢å¾©æ™‚é–“ã€‚
                    </p>
                </div>
            `;

            content.innerHTML = planHTML;
            display.style.display = 'block';

            // æ»¾å‹•åˆ°è¨“ç·´è¨ˆç•«å€åŸŸ
            display.scrollIntoView({ behavior: 'smooth' });
        }
        document.addEventListener("DOMContentLoaded", () => {
            const currentPath = window.location.pathname.split("/").pop(); // å–å¾—ç›®å‰æª”æ¡ˆåç¨±

            document.querySelectorAll(".sidebar-item a").forEach(link => {
                if (link.getAttribute("href") === currentPath) {
                    link.parentElement.classList.add("active");

                    // å¦‚æœæ˜¯å­é¸å–®ï¼Œå±•é–‹çˆ¶å±¤ has-sub
                    const parentItem = link.closest(".has-sub");
                    if (parentItem) {
                        parentItem.classList.add("active");
                        const submenu = parentItem.querySelector(".submenu");
                        if (submenu) submenu.classList.add("active");
                    }
                }
            });
        });
    </script>
    //ç©ºç™½è©³æƒ… Modal
    <div class="modal fade" id="exerciseModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ“Œè©³ç´°èªªæ˜</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="é—œé–‰"></button>
                </div>
                <div class="modal-body">
                    <div id="exerciseVideoContainer">
                        <!-- å½±ç‰‡æœƒç”± JS å‹•æ…‹å¡é€²ä¾† -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">é—œé–‰</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>